!function(a){var n={init:function(n){var s=a.extend({minLength:8,minAcceptableScore:30,allowSpace:!1,change:function(){},strengthIndicator:null,strengthIndicatorBars:'<div class="pw_strengthIndicator"><div class="strength weak">Weak</div><div class="strength medium">Medium</div><div class="strength strong">Strong</div></div>',personalInformation:[],checklist:null,dictionary:null,doubleType:null},n);this.each(function(){var n=a(this);n.data("jq_password",s);var e=null,t=null,c=null;a.each(s.personalInformation,function(n,e){"string"==typeof e&&a(e).length>0&&(s.personalInformation[n]=a(e))});var l=a.fn.password("calculateScore",n);null!=s.strengthIndicator&&(e="string"==typeof s.strengthIndicator?a(s.strengthIndicator):s.strengthIndicator,e.html(s.strengthIndicatorBars),a.fn.password("updateStrengthIndicator",l,e)),null!=s.doubleType&&(c="string"==typeof s.doubleType?a(s.doubleType):s.doubleType,c.on("keyup change",function(){null!=t&&(t.find(".pw_check_match").removeClass("pass"),n.val()==c.val()&&t.find(".pw_check_match").addClass("pass"))})),null!=s.checklist&&(t="string"==typeof s.checklist?a(s.checklist):s.checklist,t.html('<div class="pw_checklist"><ul><li class="pw_check_length">Length of at least '+s.minLength+' characters</li><li class="pw_check_uclc">Contains uppercase and lowercase letters</li><li class="pw_check_nums">Contains numbers</li><li class="pw_check_special">Contains special characters</li><li class="pw_check_spaces">Doesn\'t contain spaces</li><li class="pw_check_personal">Doesn\'t contain personal information</li><li class="pw_check_dictionary">Doesn\'t contain common password words</li><li class="pw_check_match">Passwords match</li></ul></div>'),0==s.personalInformation.length&&t.find(".pw_check_personal").remove(),s.allowSpace&&t.find(".pw_check_spaces").remove(),s.minLength<1&&t.find(".pw_check_length").remove(),null==s.dictionary&&t.find(".pw_check_dictionary").remove(),null==c&&t.find(".pw_check_match").remove(),a.fn.password("updateChecklist",l,t)),null!=s.dictionary&&a.getJSON(s.dictionary,function(a){s.dictionaryWords=a}),n.on("keyup change",function(){var c=a.fn.password("calculateScore",n);null!=e&&a.fn.password("updateStrengthIndicator",c,e),null!=t&&a.fn.password("updateChecklist",c,t),s.change.call(this,c[0],c[1],c[2])}),s.change.call(this,l[0],l[1],l[2])})},calculate:function(){var n=a(this);return"object"==typeof n.data("jq_password")?a.fn.password("calculateScore",n):null},updateChecklist:function(a,n){n.find(".pass").removeClass("pass"),-1==jQuery.inArray("TOO_SHORT",a[1])&&n.find(".pw_check_length").addClass("pass"),-1==jQuery.inArray("NO_UPPERCASE_LETTERS",a[1])&&-1==jQuery.inArray("NO_LOWERCASE_LETTERS",a[1])&&n.find(".pw_check_uclc").addClass("pass"),-1==jQuery.inArray("NO_NUMBERS",a[1])&&n.find(".pw_check_nums").addClass("pass"),-1==jQuery.inArray("NO_SPECIAL_CHARACTERS",a[1])&&n.find(".pw_check_special").addClass("pass"),-1==jQuery.inArray("CONTAINS_SPACE",a[1])&&n.find(".pw_check_spaces").addClass("pass"),-1==jQuery.inArray("CONTAINS_PERSONAL_INFO",a[1])&&n.find(".pw_check_personal").addClass("pass"),-1==jQuery.inArray("CONTAINS_COMMON_WORD",a[1])&&n.find(".pw_check_dictionary").addClass("pass"),t.val()==dt.val()&&n.find(".pw_check_match").addClass("pass")},updateStrengthIndicator:function(a,n){n.find(".pass").removeClass("pass"),a[2]&&(n.find(".weak").addClass("pass"),a[0]>=50&&n.find(".medium").addClass("pass"),a[0]>=80&&n.find(".strong").addClass("pass"))},calculateScore:function(n){var s=n.val(),e=n.data("jq_password");if("object"==typeof e){var t=0,c=90,l=!0,i=[];s.length>=e.minLength?t+=10:(i.push("TOO_SHORT"),l=!1),null!=s.match(/[A-Z]/g)?t+=10:i.push("NO_UPPERCASE_LETTERS"),null!=s.match(/[a-z]/g)?t+=10:i.push("NO_LOWERCASE_LETTERS"),null!=s.match(/[0-9]/g)?t+=10:i.push("NO_NUMBERS"),e.allowSpace||null==s.match(/ /g)||(i.push("CONTAINS_SPACE"),l=!1),null!=s.match(/(\W|_)/g)?t+=10:i.push("NO_SPECIAL_CHARACTERS");var r=[];a.each(e.personalInformation,function(n,s){if("string"!=typeof s&&(s=s.val()),s.length>0){var e=s.toLowerCase().split(" ");a.each(e,function(a,n){r.push(n);var s=n.match(/[1-2][0-9]{3}/g);s&&r.push(s[0].substring(2,4))})}});var o=s.toLowerCase(),p=!1;a.each(r,function(a,n){var s=new RegExp(n,"g");null!=o.match(s)&&(p=!0)}),p?i.push("CONTAINS_PERSONAL_INFO"):s.length>5&&(t+=20);var d=!1;void 0!==e.dictionaryWords&&a.each(e.dictionaryWords,function(a,n){var s=new RegExp(n,"g");null!=o.match(s)&&(d=!0)}),d?i.push("CONTAINS_COMMON_WORD"):s.length>5&&(t+=20);var h=t/c*100;if(h<e.minAcceptableScore&&(l=!1),0==s.length&&(l=!1,i.push("EMPTY")),void 0!==n.attr("name")){var u=a('input[name="'+n.attr("name")+'_pass"]');u.length>0?u.val(l):n.after('<input type="hidden" name="'+n.attr("name")+'_pass" value="'+l+'" />')}return[h,i,l]}return null}};a.fn.password=function(a){return n[a]?n[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void 0:n.init.apply(this,arguments)}}(jQuery);